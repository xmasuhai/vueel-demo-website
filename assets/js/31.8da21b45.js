(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{220:function(t,e,o){"use strict";var i=o(213),s=o(1);let n=class extends s.g{constructor(){super(...arguments),this.name="VuePopover",this.isVisible=!1,this.timer=null,this.clientWidth=document.body.clientWidth}clearTimer(){clearTimeout(this.timer||void 0)}startTimer(){this.autoCloseDelay&&(this.timer=window.setTimeout(()=>{this.closeEvent()},this.autoCloseDelay))}get multiEventOnTrigger(){return"click"===this.trigger?{mouseover:this.clearTimer,mouseenter:this.clearTimer,touchstart:this.clearTimer}:{}}get multiEventOnContent(){return{mouseover:this.clearTimer,mouseenter:this.clearTimer,mouseleave:this.startTimer}}get ifHover(){return"hover"===this.trigger?"mouseenter":null}get keepPopUp(){return"hover"===this.trigger?"mouseenter":"touchstart"}positionPop(){document.body.appendChild(this.$refs.contentWrapper);const{contentWrapper:t,triggerWrapper:e}=this.$refs,{width:o,height:i,top:s,left:n}=e.getBoundingClientRect(),{height:r}=t.getBoundingClientRect();t.style.zIndex=""+this.zIndex;const l={"position-top":{top:s+window.scrollY,left:n+window.scrollX},"position-bottom":{top:s+i+window.scrollY,left:n+window.scrollX},"position-left":{top:s+Math.abs(i-r)/2+window.scrollY,left:n+window.scrollX},"position-right":{top:s+Math.abs(i-r)/2+window.scrollY,left:n+o+window.scrollX}};t.style.top=l["position-"+this.position].top+"px",t.style.left=l["position-"+this.position].left+"px"}closeHandler(t){const e=this.$refs.contentWrapper;e&&e.contains(t.target)||this.closeEvent()}get switcher(){return this.clientWidth>=500?"click":"touchstart"}listenToDocument(){const t=this.clientWidth>=500?"click":"touchstart";document.addEventListener(t,this.closeHandler)}rmListenerToDocument(){const t=this.clientWidth>=500?"click":"touchstart";document.removeEventListener(t,this.closeHandler)}closeEvent(){this.isVisible=!1,this.rmListenerToDocument()}openEvent(){this.isVisible=!0,this.onShowPopover()}togglePop(t){const e=this.$refs.triggerWrapper;e&&e.contains(t.target)&&(this.isVisible=!this.isVisible)}onShowPopover(){this.$nextTick(()=>{this.positionPop(),setTimeout(()=>{this.listenToDocument()},350)})}onVisibleChange(t){t&&this.onShowPopover()}};Object(i.a)([Object(s.d)({type:[Number,Boolean],default:580,validator:t=>!1===t||t>0})],n.prototype,"autoCloseDelay",void 0),Object(i.a)([Object(s.d)({type:String,default:"top",validator:t=>["top","bottom","left","right"].includes(t)})],n.prototype,"position",void 0),Object(i.a)([Object(s.d)({type:String,default:"hover",validator:t=>["hover","click"].includes(t)})],n.prototype,"trigger",void 0),Object(i.a)([Object(s.d)({type:Number,default:999,required:!1})],n.prototype,"zIndex",void 0),Object(i.a)([Object(s.h)("isVisible")],n.prototype,"onVisibleChange",null),n=Object(i.a)([s.a],n);var r=n,l=o(6),c=Object(l.a)(r,(function(){var t,e,o=this,i=o.$createElement,s=o._self._c||i;return s("div",o._g({ref:"popover",staticClass:"vue-popover",on:o._d({},[o.switcher,o.togglePop])},((t={})[o.keepPopUp]=[o.clearTimer],t[o.ifHover]=[o.openEvent],t.mouseleave=o.startTimer,t)),[o.isVisible?s("div",o._g({ref:"contentWrapper",staticClass:"vue-content-wrapper",class:(e={},e["position-"+o.position]=!0,e)},o.multiEventOnContent),[o._t("content",null,{closeEvent:o.closeEvent})],2):o._e(),o._v(" "),s("span",o._g({ref:"triggerWrapper",staticClass:"vue-trigger-wrapper"},o.multiEventOnTrigger),[o._t("default",(function(){return[o._v("button")]}))],2)])}),[],!1,null,null,null);e.a=c.exports},289:function(t,e,o){},354:function(t,e,o){"use strict";o(289)},412:function(t,e,o){"use strict";o.r(e);var i=o(220),s=o(214),n={name:"close",components:{VuePopover:i.a,VueButton:s.a}},r=(o(354),o(6)),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("VuePopover",{attrs:{trigger:"hover"},scopedSlots:t._u([{key:"content",fn:function(e){var i=e.closeEvent;return[o("div",[t._v("popover使用 slotScope 传参给slot")]),t._v(" "),o("VueButton",{on:{click:i}},[t._v("关闭")])]}}])},[t._v(" "),o("VueButton",[t._v("提供slot事件回调closeEvent")])],1)}),[],!1,null,"1f962782",null);e.default=l.exports}}]);